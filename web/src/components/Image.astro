---
import { urlFor } from '../utils/image'

export interface Props {
  asset: object
  alt: string
  width?: number
  height?: number
  style?: string
  classes?: string
}

// *todo* defaulting width, per discussion in utils/portableText/Readme
const {
  asset,
  alt,
  width = 640,
  height = 480,
  style = '',
  classes = '',
} = Astro.props

const url = urlFor(Astro.props)
  .width(width)
  .height(height)
  .url()

console.log(Astro.props)
---

<img
  src={url}
  class={classes}
  style={style}
  alt={alt}
/>
